<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors!</title>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<body>
<script type='text/javascript'>
let computerScore = 0;
let playerScore = 0;

function computerPlay() {
	let computerSelection = Math.floor(Math.random() * 3);
	if (computerSelection === 0) {
		return 'rock';
	} else if (computerSelection === 1) {
		return 'paper';
	} else {
		return 'scissors';
	}
}


function playRound(playerSelection, computerSelection) {
	playerSelection = playerSelection.toLowerCase();
	if (playerSelection === computerSelection) {
		return 'Draw!';
	} else if (playerSelection === 'rock' && computerSelection === 'scissors') {
		playerScore++;
		return 'You Win!';
	} else if (playerSelection === 'paper' && computerSelection === 'rock') {
		playerScore++;
		return 'You Win!';
	} else if (playerSelection === 'scissors' && computerSelection === 'paper') {
		playerScore++;
		return 'You Win!';
	} else if (playerSelection === 'scissors' && computerSelection === 'rock') {
		if(playerScore !== 0) {
			playerScore--;
			computerScore++;
			return 'You Lose!';
		} else {
			return 'You Lose!';
			computerScore++;
		}
	} else if (playerSelection === 'rock' && computerSelection === 'paper') {
		if(playerScore !== 0) {
			playerScore--;
			computerScore++;
			return 'You Lose!';
		} else {			
			return 'You Lose!';
			computerScore++;
		}
	} else if (playerSelection === 'paper' && computerSelection === 'scissors') {
		if(playerScore !== 0) {
			playerScore--;
			computerScore++;
			return 'You Lose!';
		} else {
			return 'You Lose!';
			computerScore++;
		}
	} else {
		return 'That\'s not allowed!!';
	}
}

function game (){
	//log scores
	console.log("Player: " + playerScore + " vs " + "Computer: " + computerScore)
	//collect player selection 
	let player= prompt("Rock, Paper or Scissors");
	//Run and log round 
	console.log(playRound(player, computerPlay()))
}
// Keep playing game until 5 games have been played
while ((playerScore+computerScore) !== 5){
	game()
}
//Find who is winner
let winner = (playerScore>computerScore)? "You win" : "You Lose"
//Log last scores 
console.log("Player: " + playerScore + " vs " + "Computer: " + computerScore);
//Announce winner
console.log(winner);

const computerSelection = computerPlay()
console.log(playRound(playerSelection, computerSelection))
</script>
</body>